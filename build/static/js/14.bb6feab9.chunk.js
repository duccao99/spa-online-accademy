(this["webpackJsonpspa-online-academy"]=this["webpackJsonpspa-online-academy"]||[]).push([[14],{378:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},424:function(e,t,a){"use strict";var n=a(1),c=a(3),s=a(0),i=(a(7),a(4)),o=a(297),r=a(6),l=s.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.raised,d=void 0!==l&&l,u=Object(c.a)(e,["classes","className","raised"]);return s.createElement(o.a,Object(n.a)({className:Object(i.a)(a.root,r),elevation:d?8:1,ref:t},u))}));t.a=Object(r.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},425:function(e,t,a){"use strict";var n=a(1),c=a(3),s=a(0),i=(a(7),a(4)),o=a(6),r=a(85),l=s.forwardRef((function(e,t){var a=e.children,o=e.classes,l=e.className,d=e.focusVisibleClassName,u=Object(c.a)(e,["children","classes","className","focusVisibleClassName"]);return s.createElement(r.a,Object(n.a)({className:Object(i.a)(o.root,l),focusVisibleClassName:Object(i.a)(d,o.focusVisible),ref:t},u),a,s.createElement("span",{className:o.focusHighlight}))}));t.a=Object(o.a)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(l)},442:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(8),c=a(352),s=a(424),i=a(425),o=a(453),r=a(452),l=a(153),d=a(54),u=a(665),j=a(0),b=a.n(j),h=a(2),O=Object(l.a)({root:{maxWidth:"100%"},media:{height:140},title:{color:"black",fontWeight:500}});function p(e){e.user_id,e.course_id;var t=e.review_content,a=e.star,l=e.user_name,j=O(),p=b.a.useState(2),m=Object(n.a)(p,2);m[0],m[1];return Object(h.jsxs)(s.a,{className:j.root,children:[Object(h.jsx)(i.a,{children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(d.a,{gutterBottom:!0,variant:"h5",component:"h2",children:l}),Object(h.jsx)(u.a,{value:+a}),Object(h.jsx)(c.a,{py:3,children:Object(h.jsx)(d.a,{dangerouslySetInnerHTML:{__html:t}})})]})}),Object(h.jsx)(o.a,{})]})}},452:function(e,t,a){"use strict";var n=a(1),c=a(3),s=a(0),i=(a(7),a(4)),o=a(6),r=s.forwardRef((function(e,t){var a=e.classes,o=e.className,r=e.component,l=void 0===r?"div":r,d=Object(c.a)(e,["classes","className","component"]);return s.createElement(l,Object(n.a)({className:Object(i.a)(a.root,o),ref:t},d))}));t.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(r)},453:function(e,t,a){"use strict";var n=a(1),c=a(3),s=a(0),i=(a(7),a(4)),o=a(6),r=s.forwardRef((function(e,t){var a=e.disableSpacing,o=void 0!==a&&a,r=e.classes,l=e.className,d=Object(c.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(n.a)({className:Object(i.a)(r.root,l,!o&&r.spacing),ref:t},d))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(r)},661:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return X}));var n=a(17),c=a(8),s=a(153),i=a(352),o=a(335),r=a(342),l=a(297),d=a(54),u=a(341),j=a(665),b=a(20),h=a.n(b),O=a(96),p=a.n(O),m=a(0),f=a.n(m),_=a(383),g=a.n(_),x=a(18),v=a(442),y=a(97),S=a(16),w=a(22),N=a(98),k=a(300),C=a(507),I=a(344),E=a(504),H=a.n(E),M=a(401),T=a.n(M),z=a(402),L=a.n(z),B=a(31),R=a(506),P=a(299),A=a(503),D=a.n(A),V=a(502),W=a.n(V),F=(a(384),a(68)),U=a(473),$=(a(501),a(2));var J=Object(F.b)((function(e){return{video_state:e}}),null)((function(e){var t=e.ref,a=(e.video_state,e.lesson_id),n=e.user_id,s=Object(m.useState)(0),i=Object(c.a)(s,2),o=i[0],r=i[1];return Object(m.useEffect)((function(){!function(){var e="".concat(S.b,"/api/student/history?user_id=").concat(n,"&lesson_id=").concat(a);h.a.get(e,{}).then((function(e){console.log(e),r(+e.data.history_time)}))}()}),[]),Object($.jsxs)(U.Player,{ref:t,onPlaying:function(e){var t="".concat(S.b,"/api/student/history-watching"),c={user_id:n,lesson_id:a,start_time:e.target.currentTime};h.a.post(t,c,{}).then((function(e){}))},startTime:o,poster:"/assets/poster.png",children:[Object($.jsx)("source",{src:e.lesson_video_url?e.lesson_video_url:"https://www.youtube.com/watch?v=hBudaNjwaoU"}),Object($.jsxs)(U.ControlBar,{children:[Object($.jsx)(U.ReplayControl,{seconds:10,order:1.1}),Object($.jsx)(U.ForwardControl,{seconds:10,order:1.2}),Object($.jsx)(U.CurrentTimeDisplay,{order:4}),Object($.jsx)(U.TimeDivider,{order:4.2}),Object($.jsx)(U.PlaybackRateMenuButton,{rates:[5,2,1,.5,.1],order:7.1}),Object($.jsx)(U.VolumeMenuButton,{disabled:!0})]})]})})),Y=Object(s.a)((function(e){var t;return{course_detail_wrapper:{},ava_course:{},section_header:{minHeight:100,marginTop:100},course_name:{fontWeight:"bold"},course_header_title:{textAlign:"left",paddingTop:12,paddingBottom:12,color:"white"},section_short_des:{minHeight:100,fontSize:18},des:{fontWeight:"bold"},section_description:{minHeight:100,fontSize:18},section_syllabus:{minHeight:100,fontSize:18},section_rating:{},section_feedback:{marginBottom:16},paper:{padding:32,textAlign:"left",color:e.palette.text.secondary,marginBottom:16},box_cat:{padding:12,"& .MuiTypography-root":{fontSize:18}},nested:{paddingLeft:e.spacing(4),"&div.MuiMenu-paper":{transition:" none !important;",transitionDuration:"0s !important;"},"&.MuiListItem-button":{transition:" none !important;",transitionDuration:"0s !important;"}},preview:(t={height:"100vh",width:"100vw",backgroundColor:"black",position:"fixed",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},Object(B.a)(t,"backgroundColor","#00000038"),Object(B.a)(t,"zIndex",100),t),video_wrapper:{position:"fixed",zIndex:111,opacity:1},close_video_icon:{position:"absolute",top:"-10%",left:"110%",zIndex:110,color:"white",height:30,width:30,"&:hover":{color:"black",cursor:"pointer"}},d_none:{display:"none"},video:{backgroundColor:"#fafafa",padding:32,paddingTop:12,borderRadius:5,"& .video-react-video":{},"& .video-react":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},list:{"div.MuiMenu-paper":{transition:" none !important;",transitionDuration:"0s !important;"}},father:{},btn:{textTransform:"capitalize"}}}));function K(e){var t=e.open,a=(e.chap_id,e.lesson_id),n=e.lesson_name,s=e.lesson_video_url,o=(e.flag_reviewable,e.lesson_content),r=(e.isLessonCompleted,Y()),j=Object(m.useState)(!0),b=Object(c.a)(j,2),O=b[0],_=(b[1],Object(m.useState)(!0)),v=Object(c.a)(_,2),y=v[0],N=v[1],E=Object(m.useState)(!0),H=Object(c.a)(E,2),M=H[0],T=H[1],z=Object(m.useState)(0),L=Object(c.a)(z,2),A=L[0],V=L[1],F=Object(m.useState)(0),U=Object(c.a)(F,2),K=U[0],q=U[1],G=Object(m.useState)(!1),Q=Object(c.a)(G,2),X=Q[0],Z=Q[1],ee=f.a.useState({}),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],ce=Object(m.useState)(""),se=Object(c.a)(ce,2),ie=(se[0],se[1]),oe=Object(m.useState)(""),re=Object(c.a)(oe,2),le=re[0],de=re[1],ue=Object(m.useState)(!1),je=Object(c.a)(ue,2),be=je[0],he=(je[1],Object(x.i)().course_id),Oe=Object(m.useState)(""),pe=Object(c.a)(Oe,2),me=pe[0],fe=pe[1];function _e(){var e="".concat(S.b,"/api/course/").concat(he);h.a.get(e,{}).then((function(e){ne(e.data.course_detail);var t=new Date("".concat(e.data.course_detail.course_last_updated));ie(t)})).catch((function(e){console.log(e)}))}var ge=function(e){N(!y),T(!M)};Object(m.useEffect)((function(){var e=sessionStorage.getItem("user_role"),t=sessionStorage.getItem("user_login_id");V(+e),q(+t),fe(o),_e()}),[X,be]);var xe=Object(m.useRef)();return Object($.jsxs)(f.a.Fragment,{children:[Object($.jsx)(R.a,{in:t,timeout:"auto",unmountOnExit:!0,className:r.father,children:Object($.jsx)(P.a,{className:r.list,component:"div",disablePadding:!0,children:Object($.jsxs)(k.a,{disableRipple:!0,button:!0,className:r.nested,children:[Object($.jsx)(C.a,{children:Object($.jsx)(W.a,{})}),Object($.jsx)(I.a,{primary:"".concat(n)}),Object($.jsx)(u.a,{className:r.btn,onClick:ge,children:"Learn"})]})})}),Object($.jsx)(i.a,{className:p()(r.preview,Object(B.a)({},r.d_none,!0===O)),children:Object($.jsx)(i.a,{className:r.video_wrapper,children:Object($.jsx)(D.a,{className:r.close_video_icon,onClick:ge})})}),Object($.jsxs)(i.a,{component:l.a,className:p()(r.video,Object(B.a)({},r.d_none,y)),children:[Object($.jsx)(i.a,{my:3,children:Object($.jsxs)(d.a,{variant:"h6",children:[" ",null===n?"Chapter is not completed! ":n," "]})}),Object($.jsx)(i.a,{children:Object($.jsx)(J,{user_id:+sessionStorage.getItem("user_login_id"),lesson_id:+a,ref:xe,muted:M,lesson_video_url:s})}),!0===X?Object($.jsxs)(i.a,{children:[Object($.jsx)(i.a,{my:3,children:Object($.jsx)(d.a,{variant:"h6",children:"Lesson content"})}),Object($.jsx)(i.a,{my:3,children:Object($.jsx)(g.a,{theme:"snow",value:le||"",onChange:de})}),Object($.jsx)(i.a,{children:3===+A&&+ae.user_id===+K?Object($.jsx)(u.a,{onClick:function(e){Z(!1);var t="".concat(S.b,"/api/instructor/edit-lesson-content"),n={user_id:K,lesson_content:le,lesson_id:a};h.a.patch(t,n,{}).then((function(e){Object(w.a)("Success!","Edited!",2500,"success"),_e(),fe(n.lesson_content)})).catch((function(e){Object(w.a)("error!","Something broke!",2500,"error"),_e()}))},className:r.btn,variant:"contained",color:"secondary",children:"Save"}):""})]}):Object($.jsxs)(i.a,{children:[Object($.jsx)(i.a,{my:3,children:Object($.jsx)(d.a,{variant:"h6",children:"Lesson content"})}),Object($.jsx)(i.a,{dangerouslySetInnerHTML:{__html:me}}),Object($.jsx)(i.a,{children:3===+A&&+ae.user_id===+K?Object($.jsx)(u.a,{onClick:function(){return Z(!0)},className:r.btn,variant:"contained",color:"primary",children:"Edit"}):""})]})]})]})}var q=Object(s.a)((function(e){return{course_detail_wrapper:{},ava_course:{},section_header:{minHeight:100,marginTop:100},course_name:{fontWeight:"bold"},course_header_title:{textAlign:"left",paddingTop:12,paddingBottom:12,color:"white"},section_short_des:{minHeight:100,fontSize:18},des:{fontWeight:"bold"},section_description:{minHeight:100,fontSize:18},section_syllabus:{minHeight:100,fontSize:18},section_rating:{},section_feedback:{marginBottom:16},paper:{padding:32,textAlign:"left",color:e.palette.text.secondary,marginBottom:16},box_cat:{padding:12,"& .MuiTypography-root":{fontSize:18}},nested:{paddingLeft:e.spacing(4)}}}));function G(e){var t=e.chap_name,a=e.chap_id,s=e.lessons,i=(q(),f.a.useState(!0)),o=Object(c.a)(i,2),r=o[0],l=o[1],d=Object(m.useState)([]),u=Object(c.a)(d,2);u[0],u[1];return Object(m.useEffect)((function(){}),[]),Object($.jsxs)(f.a.Fragment,{children:[Object($.jsxs)(k.a,{button:!0,onClick:function(){l(!r)},children:[Object($.jsx)(C.a,{children:Object($.jsx)(H.a,{})}),Object($.jsx)(I.a,{primary:t}),r?Object($.jsx)(T.a,{}):Object($.jsx)(L.a,{})]}),0===s.length||null===s||void 0===s?"":s.map((function(e,t){return+e.chap_id===+a?Object(m.createElement)(K,Object(n.a)(Object(n.a)({},e),{},{key:t,open:r,isLessonCompleted:!0})):""}))]})}var Q=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{minHeight:200,padding:32},course_video:{},btn:{textTransform:"capitalize"},chapter:{}}}));function X(){var e=Q(),t=Object(m.useState)([1,2,3]),a=Object(c.a)(t,2),s=(a[0],a[1],Object(x.i)().course_id),b=Object(m.useState)([]),O=Object(c.a)(b,2),_=(O[0],O[1]),k=Object(m.useState)(!1),C=Object(c.a)(k,2),I=(C[0],C[1],Object(m.useState)([])),E=Object(c.a)(I,2),H=E[0],M=E[1],T=Object(m.useState)([]),z=Object(c.a)(T,2),L=z[0],B=z[1],R=Object(m.useState)(!0),P=Object(c.a)(R,2),A=(P[0],P[1]),D=Object(m.useState)(0),V=Object(c.a)(D,2),W=V[0],F=V[1],U=Object(m.useState)(""),J=Object(c.a)(U,2),Y=J[0],K=J[1],q=Object(m.useState)({}),X=Object(c.a)(q,2),Z=X[0],ee=X[1],te=Object(m.useState)({}),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],se=Object(m.useState)(""),ie=Object(c.a)(se,2),oe=(ie[0],ie[1],Object(m.useState)(!1)),re=Object(c.a)(oe,2),le=re[0],de=re[1];var ue=function(e){var t={user_id:+sessionStorage.getItem("user_login_id"),course_id:s,review_content:Y,star:W},a="".concat(S.b,"/api/student/upload-feedback");de(!le),h.a.post(a,t,{}).then((function(e){var t=e.data.message||"Uploaded!";Object(w.a)("Success!",t,2500,"success")})).catch((function(e){var t=e.response.data.message||"Something broke!";Object(w.a)("error!",t,2500,"error")}))};return Object(m.useEffect)((function(){sessionStorage.getItem("isLogout",!1),sessionStorage.getItem("user_login_id");!function(){var e="".concat(S.b,"/api/course/detail/syllabus/").concat(+s);h.a.get(e,{}).then((function(e){_(e.data.course_syllabus);var t,a=e.data.course_syllabus,n=[],c=[],s=[],i=e.data.course_syllabus.length;for(t=0;t<i;++t)null!==a[t].lesson_id&&null!==a[t].lesson_name&&null!==a[t].lesson_video_url&&null!==a[t].flag_reviewable&&null!==a[t].lesson_content&&null!==a[t].chap_id&&s.push({lesson_id:a[t].lesson_id,lesson_name:a[t].lesson_name,lesson_video_url:a[t].lesson_video_url,flag_reviewable:a[t].flag_reviewable,lesson_content:a[t].lesson_content,chap_id:a[t].chap_id}),n[a[t].chap_id]||(n[a[t].chap_id]=!0,null!==a[t].chap_id&&null!==a[t].chap_name&&c.push({chap_id:a[t].chap_id,chap_name:a[t].chap_name}));M(c),B(s)}))}(),function(){var e="".concat(S.b,"/api/course/").concat(s);h.a.get(e,{}).then((function(e){ee(e.data.course_detail)}))}(),function(){var e="".concat(S.b,"/api/student/your-feedback?user_id=").concat(+sessionStorage.getItem("user_login_id"),"&course_id=").concat(s);h.a.get(e,{}).then((function(e){void 0===e.data.your_feedback?ce(null):ce(e.data.your_feedback)})).catch((function(e){ce(null)}))}()}),[le]),Object($.jsxs)(f.a.Fragment,{children:[Object($.jsx)(N.a,{setisLogout:A}),Object($.jsx)(i.a,{my:12,children:Object($.jsx)(o.a,{children:Object($.jsxs)(r.a,{container:!0,spacing:4,className:e.root,children:[Object($.jsx)(r.a,{item:!0,xs:12,md:8,children:Object($.jsxs)(l.a,{className:e.paper,children:[Object($.jsxs)(d.a,{variant:"h6",children:[Z.course_name," "]}),Object($.jsx)(i.a,{my:3,children:Object($.jsxs)(d.a,{variant:"h6",children:[Z.course_title," "]})})]})}),Object($.jsx)(r.a,{item:!0,xs:12,md:8,children:Object($.jsxs)(l.a,{className:p()(e.paper,e.chapter),children:[Object($.jsx)(d.a,{variant:"h6",children:"Chapter "}),Object($.jsx)(i.a,{className:e.course_video,children:H.map((function(e,t){return Object(m.createElement)(G,Object(n.a)(Object(n.a)({lessons:L},e),{},{key:t}))}))})]})}),Object($.jsx)(r.a,{item:!0,xs:12,md:8,children:Object($.jsxs)(l.a,{className:e.paper,children:[Object($.jsx)(d.a,{variant:"h6",children:"Your feedback "}),Object($.jsx)(i.a,{className:e.course_video,children:null===ne?"You haven't feedback this course yet!":Object($.jsx)(v.a,{user_id:ne.user_id,course_id:ne.course_id,review_content:ne.review_content,star:ne.star})})]})}),Object($.jsx)(r.a,{item:!0,xs:12,md:8,children:Object($.jsx)(l.a,{className:e.paper,children:Object($.jsxs)("form",{onKeyPress:function(e){13===e.which&&ue()},children:[Object($.jsx)(d.a,{variant:"h6",children:"Upload feedback "}),Object($.jsx)(i.a,{my:3,className:e.course_video,children:Object($.jsx)(j.a,{value:W,onChange:function(e,t){return F(t)}})}),Object($.jsx)(i.a,{my:3,className:e.course_video,children:Object($.jsx)(g.a,{value:Y,onChange:K})}),Object($.jsx)(i.a,{my:3,className:e.course_video,children:Object($.jsx)(u.a,{onClick:ue,className:e.btn,variant:"contained",color:"primary",children:"Feedback"})})]})})})]})})}),Object($.jsx)(y.a,{})]})}}}]);
//# sourceMappingURL=14.bb6feab9.chunk.js.map