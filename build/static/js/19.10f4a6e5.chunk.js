(this["webpackJsonpspa-online-academy"]=this["webpackJsonpspa-online-academy"]||[]).push([[19,20],{373:function(e,t,a){"use strict";a.r(t);var c=a(8),o=a(17),n=a(6),i=a(352),r=a(505),s=a(348),l=a(341),d=a(424),u=a(425),b=a(453),j=a(452),g=a(451),h=a(642),p=a(84),O=a(153),f=a(54),m=a(392),_=a.n(m),x=a(393),v=a.n(x),k=a(20),y=a.n(k),S=a(96),C=a.n(S),w=a(382),N=a(0),B=a.n(N),I=a(68),M=a(12),T=a(87),z=a(16),D=a(2),R=Object(n.a)({root:{color:p.a[400],"&$checked":{color:p.a[600]}},checked:{}})((function(e){return Object(D.jsx)(h.a,Object(o.a)({color:"default"},e))})),A=Object(O.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column",boxShadow:"0 4px 8px rgb(0 1 1 / 10%)"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},btn_sign_in:{color:"inherit",textDecoration:"none","&:visited":{color:"inherit",textDecoration:"none"}},ten_most_newest_courses:{textAlign:"center",marginTop:32,marginBottom:32},outstanding_courses:{textAlign:"center",marginTop:32,marginBottom:32},card_wrapper:{},link:{color:"inherit",textDecoration:"none","&:visited":{color:"inherit",textDecoration:"none"}},typo:{textAlign:"left"},card_action:{display:"flex",alignItems:"flex-end",height:"100%",position:"relative"},badge_bestSeller:{"& .MuiBadge-anchorOriginBottomLeftRectangle":{width:"100px"}},badge_mostView:{"& .MuiBadge-anchorOriginBottomLeftRectangle":{width:"100px",backgroundColor:"lightskyblue",color:"lightyellow",display:"none"}},badge_newest:{"& .MuiBadge-anchorOriginBottomLeftRectangle":{width:"100px",backgroundColor:"#e2e27a"}},sale:{textDecoration:"line-through;"},checkbox:{margin:0,marginBottom:-5},favo:{position:"absolute",top:0,right:0,zIndex:"1500!important",border:"none!important","& .MuiButtonBase-root":{border:"none!important",color:"#95f0ff"},"& .MuiButton-outlinedPrimary":{border:"none!important"}}}})),F={color:"secondary"};t.default=Object(I.b)((function(e){return{cart_global_state:e.cartReducer.cart}}),(function(e){return{dispatchAddToCart:function(t,a,c,o,n,i){e({type:T.a,payload:{course_id:t,course_price:c,course_ava:o,course_name:n,course_title:i,user_id:a}})}}}))((function(e){var t=e.course_avatar_url,a=e.course_fee,n=e.course_name,h=e.course_title,p=e.course_id,O=e.subject_name,m=e.user_name,x=e.is_finished,k=e.user_id,S=e.avg_rate,I=e.most_stu_enroll,T=e.most_view_courses,G=e.newest_courses,L=e.dispatchAddToCart,U=e.cart_global_state,$=e.isLogout,E=e.isUpdateFromPagi,J=e.setFavoComponentUpdate,P=e.favoComponentUpdate,V=e.course_favo_id,q=e.course_favo_status,H=Object(N.useState)(!1),K=Object(c.a)(H,2),Q=K[0],W=K[1],X=Object(N.useState)(!1),Y=Object(c.a)(X,2),Z=(Y[0],Y[1],Object(N.useState)(!1)),ee=Object(c.a)(Z,2),te=ee[0],ae=ee[1],ce=Object(N.useState)(!1),oe=Object(c.a)(ce,2),ne=oe[0],ie=oe[1],re=Object(N.useState)(0),se=Object(c.a)(re,2),le=se[0],de=se[1],ue=Object(N.useState)([]),be=Object(c.a)(ue,2),je=(be[0],be[1]),ge=Object(N.useState)(!1),he=Object(c.a)(ge,2),pe=he[0],Oe=he[1],fe=Object(N.useState)(!1),me=Object(c.a)(fe,2),_e=me[0],xe=me[1],ve=Object(N.useState)(""),ke=Object(c.a)(ve,2),ye=ke[0],Se=ke[1],Ce=Object(N.useState)(!1),we=Object(c.a)(Ce,2),Ne=we[0],Be=we[1],Ie=Object(N.useState)(0),Me=Object(c.a)(Ie,2),Te=Me[0],ze=Me[1],De=Object(N.useState)(x),Re=Object(c.a)(De,2),Ae=Re[0],Fe=Re[1],Ge=Object(N.useState)(!1),Le=Object(c.a)(Ge,2),Ue=Le[0],$e=Le[1],Ee=Object(N.useState)(!1),Je=Object(c.a)(Ee,2),Pe=Je[0],Ve=Je[1];function qe(e,t){var a="";a=void 0!==V?"".concat(z.b,"/api/student/is-favorite?course_id=").concat(V,"&user_id=").concat(e):"".concat(z.b,"/api/student/is-favorite?course_id=").concat(t,"&user_id=").concat(e),y.a.get(a,{}).then((function(e){Ve(e.data.is_favorite)})).catch((function(e){console.log(e.response)}))}var He=function(e){var t="".concat(z.b,"/api/student/toggle-favorite"),a={user_id:+sessionStorage.getItem("user_login_id"),course_id:p,is_favorite:Pe};void 0!==J&&null!==J&&J(!P),y.a.patch(t,a,{}).then((function(e){qe(a.user_id,a.course_id)}))};Object(N.useEffect)((function(){void 0!==q?Ve(q):qe(+sessionStorage.getItem("user_login_id"),p);var e=sessionStorage.getItem("user_role");ze(+e),Object(w.debounce)((function(){var e="".concat(z.b,"/api/course/all-sales");y.a.get(e,{}).then((function(e){if(je(e.data.all_sales),void 0!==e.data.all_sales)for(var t=0;t<e.data.all_sales.length;++t)if(p===e.data.all_sales[t].course_id){ie(!0),de(+e.data.all_sales[t].sale_percent);break}}))}),500)();var t=sessionStorage.getItem("email");if(Be(!0!==$),(null===t||void 0===t||""===t)&&Se(void 0),Se(t),void 0!==U)for(var a=0;a<U.length;++a)if(U[a].course_id===p){Oe(!0),xe(!_e);break}if(void 0!==I){for(var c=!1,o=0;o<I.length;++o)if(+p===+I[o].course_id){c=!0;break}if(!0===c)return void W(!0);W(!1)}if(void 0!==G){for(var n=!1,i=0;i<G.length;++i)if(+p===+G[i].course_id){n=!0,ae(!0);break}return!0===n?void ae(!0):void ae(!1)}}),[I,T,G,U,ye,$,Ne,Ue,E,Pe,P]);var Ke=function(e){},Qe=A();return Object(D.jsx)(B.a.Fragment,{children:Object(D.jsxs)(d.a,{className:Qe.card,children:[Object(D.jsx)(i.a,{onClick:Ke,children:Object(D.jsxs)(u.a,{children:[Object(D.jsx)(M.b,{className:Qe.link,to:"/course/".concat(p),children:Object(D.jsx)(g.a,{className:Qe.cardMedia,image:"".concat(t),title:"Image title"})}),2===+Te?Object(D.jsx)(i.a,{children:1===+Pe?Object(D.jsx)(M.b,{onClick:He,className:C()(Qe.link,Qe.favo),children:Object(D.jsx)(l.a,{variant:"outlined",size:"small",color:"primary",children:Object(D.jsx)(_.a,{})})}):Object(D.jsx)(M.b,{onClick:He,className:C()(Qe.link,Qe.favo),children:Object(D.jsx)(l.a,{variant:"outlined",size:"small",color:"primary",children:Object(D.jsx)(v.a,{})})})}):"",!0===Q?Object(D.jsx)(i.a,{display:"flex",px:8,justifyContent:"flex-start",width:"100%",children:Object(D.jsx)(s.a,Object(o.a)(Object(o.a)({className:Qe.badge_bestSeller,variant:"standard",badgeContent:"Best seller"},F),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}):!0===te?Object(D.jsx)(i.a,{display:"flex",px:8,justifyContent:"flex-start",width:"100%",children:Object(D.jsx)(s.a,{className:Qe.badge_newest,variant:"standard",badgeContent:"New",anchorOrigin:{vertical:"bottom",horizontal:"left"}})}):Object(D.jsx)(i.a,{}),Object(D.jsxs)(j.a,{className:Qe.cardContent,children:[Object(D.jsx)(f.a,{className:Qe.typo,gutterBottom:!0,variant:"h6",component:"p",children:n}),Object(D.jsx)(f.a,{className:Qe.typo,children:O}),Object(D.jsxs)(f.a,{className:Qe.typo,children:[" ",m]}),Object(D.jsxs)(f.a,{className:Qe.typo,children:["Rate: ",S]}),ne?Object(D.jsxs)(B.a.Fragment,{children:[Object(D.jsxs)(f.a,{className:C()(Qe.typo,Qe.sale),children:[a,"$"]}),Object(D.jsxs)(f.a,{className:Qe.typo,children:[" ","Sale: ",a-Math.floor(a*le/100),"$"," "]})]}):Object(D.jsxs)(f.a,{className:Qe.typo,children:[a,"$"]})]})]})}),void 0!==ye?Object(D.jsxs)(b.a,{className:Qe.card_action,children:[2===Te||4===Te?Object(D.jsx)(l.a,{variant:"contained",size:"small",color:"primary",disabled:!0===pe,onClick:function(e){var c=sessionStorage.getItem("user_login_id");L(p,+c,a,t,n,h)},children:"Buy"}):Object(D.jsx)("div",{children:3===Te&&k===+sessionStorage.getItem("user_login_id")?Object(D.jsx)(r.a,{className:Qe.checkbox,control:Object(D.jsx)(R,{checked:Ae,onChange:function(e){var t=sessionStorage.getItem("user_login_id");Fe(e.target.checked);var a={is_finished:e.target.checked,course_id:p,user_id:t},c="".concat(z.b,"/api/instructor/toggle-finished-course/");y.a.patch(c,a,{}).then((function(e){})),$e(!Ue)},name:"checkedG"}),label:"Is finished"}):""}),Object(D.jsx)(M.b,{onClick:Ke,className:Qe.link,to:"/course/".concat(p),children:Object(D.jsx)(l.a,{variant:"outlined",size:"small",color:"primary",children:"Detail"})})]}):Object(D.jsx)(B.a.Fragment,{})]})})}))},640:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var c=a(17),o=a(8),n=a(153),i=a(342),r=a(54),s=a(20),l=a.n(s),d=a(0),u=a(16),b=a(373),j=a(2),g=Object(n.a)((function(e){return{}}));function h(e){var t=e.email,a=(g(),Object(d.useState)([])),n=Object(o.a)(a,2),s=n[0],h=n[1],p={};return Object(d.useEffect)((function(){!function(){var e="".concat(u.b,"/api/instructor/uploaded-course/").concat(t);l.a.get(e,p).then((function(e){h(e.data.uploaded_course)}))}()}),[]),Object(j.jsxs)(i.a,{container:!0,spacing:4,children:[Object(j.jsx)(i.a,{item:!0,xs:12,children:Object(j.jsx)(r.a,{variant:"h6",children:"Uploaded course"})}),Object(j.jsx)(i.a,{item:!0,xs:12,children:Object(j.jsx)(i.a,{container:!0,spacing:4,children:s.length>0?s.map((function(e){return Object(j.jsx)(i.a,{item:!0,xs:12,md:4,children:Object(j.jsx)(b.default,Object(c.a)({},e))},e.course_id)})):"There is no course"})})]})}}}]);
//# sourceMappingURL=19.10f4a6e5.chunk.js.map