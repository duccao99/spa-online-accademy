{"version":3,"sources":["components/CardCourse/CardCourse.js","components/LeftCat/Subcat.js","components/LeftCat/Cat.js","components/LeftCat/LeftCat.js","components/CoursesList/Pagination.js","components/CoursesList/Searchbar.js","components/CoursesList/Sort.js","components/CoursesList/CoursesList.js"],"names":["GreenCheckbox","withStyles","root","color","green","checked","props","useStyles","makeStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","boxShadow","cardMedia","cardContent","flexGrow","footer","menuButton","title","btn_sign_in","textDecoration","ten_most_newest_courses","textAlign","marginBottom","outstanding_courses","card_wrapper","link","typo","card_action","alignItems","position","badge_bestSeller","width","badge_mostView","badge_newest","sale","checkbox","margin","favo","top","right","zIndex","border","defaultProps","connect","state","cart_global_state","cartReducer","cart","dispatch","dispatchAddToCart","course_id","user_id","course_price","course_ava","course_name","course_title","type","ADD_COURSE_TO_CART","payload","course_avatar_url","course_fee","subject_name","user_name","is_finished","avg_rate","most_stu_enroll","most_view_courses","newest_courses","isLogout","isUpdateFromPagi","setFavoComponentUpdate","favoComponentUpdate","course_favo_id","course_favo_status","useState","is_best_seller","set_is_best_seller","is_newest","set_is_newest","is_sales","set_is_sales","set_sale","set_all_sales","is_in_cart","set_is_in_cart","toggle_buy_click","set_toggle_buy_click","email","set_email","show_btn","set_show_btn","user_role","setUser_role","setChecked","isUpdate","setisUpdate","is_favorite","set_is_favorite","getIsFavorite","url_is_favo","undefined","env","axios","get","then","ret","data","catch","er","console","log","response","handleFavoriteClick","e","toggle_favorite_url","sessionStorage","getItem","patch","useEffect","debounce","all_sales_url","all_sales","i","length","sale_percent","flag","handleLinkClick","classes","Fragment","className","onClick","to","image","cn","variant","size","px","justifyContent","badgeContent","anchorOrigin","vertical","horizontal","gutterBottom","component","Math","floor","disabled","curr_user_id","control","onChange","target","finished_url","name","label","style","left_cat_wrapper","nested","paddingLeft","cat_icon","minWidth","Subcat","open","all_subcat","setOpen","useParams","id","Collapse","in","timeout","unmountOnExit","List","disablePadding","map","ele","ListItem","button","ListItemIcon","ListItemText","primary","Cat","cat_name","cat_id","React","filter","categories","LeftCat","set_all_subcat","all_sub_cat_url","all_sub_cats","Box","BasicPagination","total_pagi_stuff","handlePagiChange","curr_page","set_curr_page","Pagination","page","count","Searchbar","all_courses","search_value","set_search_value","all_courses_filter","set_all_courses_filter","handleSearchChange","value","Autocomplete","freeSolo","options","option","renderInput","params","TextField","Sort","sort_name","sub_sort","sort_id","sort_value","set_sort_value","sub_name","main_course_list_wrapper","text","secondary","course_list","pagination","left_cat","sort_info","sub_id","CoursesList","all_courses_finished","set_all_courses_finished","set_total_pagi_stuff","rate_value","price_value","is_checked","set_most_stu_enroll","set_most_view_courses","set_newest_courses","setisLogout","setisUpdateFromPagi","useLocation","getMostStudentEnrollCourses","most_stu_rul","getMostViewCourses","most_views_url","ten_most_viewed_courses","getNewestCourses","newest_url","ten_newest_courses","isLg","all_courses_by_subcat_url","total_num_pagi_stuff","curr_pagi","course_by_sub_cat","all_course_finished_url","course_by_rate","course_by_price","Navbar","Container","maxWidth","Grid","container","item","xs","sm","md","lg","Paper","Typography","key","CardCourse","event","config","pagi","Footer"],"mappings":"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","file":"static/js/18.05f4d17c.chunk.js","sourcesContent":["import { Box, FormControlLabel, withStyles } from '@material-ui/core';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport axios from 'axios';\r\nimport cn from 'classnames';\r\nimport { debounce } from 'lodash';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { ADD_COURSE_TO_CART } from '../../actionTypes/cart.type';\r\nimport * as env from '../../config/env.config';\r\n\r\nconst common_spacing = 32;\r\n\r\nconst GreenCheckbox = withStyles({\r\n  root: {\r\n    color: green[400],\r\n    '&$checked': {\r\n      color: green[600]\r\n    }\r\n  },\r\n  checked: {}\r\n})((props) => <Checkbox color='default' {...props} />);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6)\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4)\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8)\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    boxShadow: '0 4px 8px rgb(0 1 1 / 10%)'\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%' // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6)\r\n  },\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  btn_sign_in: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    '&:visited': {\r\n      color: 'inherit',\r\n      textDecoration: 'none'\r\n    }\r\n  },\r\n  ten_most_newest_courses: {\r\n    textAlign: 'center',\r\n    marginTop: common_spacing,\r\n    marginBottom: common_spacing\r\n  },\r\n  outstanding_courses: {\r\n    textAlign: 'center',\r\n    marginTop: common_spacing,\r\n    marginBottom: common_spacing\r\n  },\r\n  card_wrapper: {\r\n    // marginBottom: common_spacing * 2,\r\n  },\r\n  link: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    '&:visited': {\r\n      color: 'inherit',\r\n      textDecoration: 'none'\r\n    }\r\n  },\r\n  typo: {\r\n    textAlign: 'left'\r\n  },\r\n  card_action: {\r\n    display: 'flex',\r\n    alignItems: 'flex-end',\r\n    height: '100%',\r\n    position: 'relative'\r\n  },\r\n  badge_bestSeller: {\r\n    '& .MuiBadge-anchorOriginBottomLeftRectangle': {\r\n      width: '100px'\r\n    }\r\n  },\r\n  badge_mostView: {\r\n    '& .MuiBadge-anchorOriginBottomLeftRectangle': {\r\n      width: '100px',\r\n      backgroundColor: 'lightskyblue',\r\n      color: 'lightyellow',\r\n      display: 'none'\r\n    }\r\n  },\r\n  badge_newest: {\r\n    '& .MuiBadge-anchorOriginBottomLeftRectangle': {\r\n      width: '100px',\r\n\r\n      backgroundColor: '#e2e27a'\r\n    }\r\n  },\r\n  sale: {\r\n    textDecoration: 'line-through;'\r\n  },\r\n  checkbox: {\r\n    margin: 0,\r\n    marginBottom: -5\r\n  },\r\n  favo: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    zIndex: '1500!important',\r\n    border: 'none!important',\r\n    '& .MuiButtonBase-root': {\r\n      border: 'none!important',\r\n      color: '#95f0ff'\r\n    },\r\n    '& .MuiButton-outlinedPrimary': {\r\n      border: 'none!important'\r\n    }\r\n  }\r\n}));\r\n\r\nconst defaultProps = {\r\n  color: 'secondary'\r\n};\r\n\r\nfunction CardCourse(props) {\r\n  const {\r\n    course_avatar_url,\r\n    course_fee,\r\n    course_name,\r\n    course_title,\r\n    course_id,\r\n    subject_name,\r\n    user_name,\r\n    is_finished,\r\n    user_id,\r\n    avg_rate,\r\n    most_stu_enroll,\r\n    most_view_courses,\r\n    newest_courses,\r\n    dispatchAddToCart,\r\n    cart_global_state,\r\n    isLogout,\r\n    isUpdateFromPagi,\r\n    // course detail problem\r\n    // setUpdateCourseDetail,\r\n    // updateCourseDetail,\r\n    setFavoComponentUpdate,\r\n    favoComponentUpdate,\r\n    course_favo_id,\r\n    course_favo_status\r\n  } = props;\r\n\r\n  const [is_best_seller, set_is_best_seller] = useState(false);\r\n  const [is_most_view, set_is_most_view] = useState(false);\r\n  const [is_newest, set_is_newest] = useState(false);\r\n  const [is_sales, set_is_sales] = useState(false);\r\n  const [sale, set_sale] = useState(0);\r\n  const [all_sales, set_all_sales] = useState([]);\r\n  const [is_in_cart, set_is_in_cart] = useState(false);\r\n  const [toggle_buy_click, set_toggle_buy_click] = useState(false);\r\n  const [email, set_email] = useState('');\r\n  const [show_btn, set_show_btn] = useState(false);\r\n  const [user_role, setUser_role] = useState(0);\r\n  const [checked, setChecked] = useState(is_finished);\r\n  const [isUpdate, setisUpdate] = useState(false);\r\n  const [is_favorite, set_is_favorite] = useState(false);\r\n\r\n  const handleChangeCheck = (e) => {\r\n    const curr_user_id = sessionStorage.getItem('user_login_id');\r\n\r\n    setChecked(e.target.checked);\r\n    const data = {\r\n      is_finished: e.target.checked,\r\n      course_id: course_id,\r\n      user_id: curr_user_id\r\n    };\r\n\r\n    const finished_url = `${env.DEV_URL}/api/instructor/toggle-finished-course/`;\r\n    axios.patch(finished_url, data, {}).then((ret) => {});\r\n    setisUpdate(!isUpdate);\r\n  };\r\n\r\n  const handleBuyClick = (e) => {\r\n    const curr_user_id = sessionStorage.getItem('user_login_id');\r\n\r\n    dispatchAddToCart(\r\n      course_id,\r\n      +curr_user_id,\r\n      course_fee,\r\n      course_avatar_url,\r\n      course_name,\r\n      course_title\r\n    );\r\n  };\r\n\r\n  function allSales() {\r\n    debounce(() => {\r\n      const all_sales_url = `${env.DEV_URL}/api/course/all-sales`;\r\n      const config = {};\r\n      axios.get(all_sales_url, config).then((ret) => {\r\n        set_all_sales(ret.data.all_sales);\r\n        if (ret.data.all_sales !== undefined) {\r\n          for (let i = 0; i < ret.data.all_sales.length; ++i) {\r\n            if (course_id === ret.data.all_sales[i].course_id) {\r\n              set_is_sales(true);\r\n              set_sale(+ret.data.all_sales[i].sale_percent);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }, 500)();\r\n  }\r\n\r\n  function getIsFavorite(user_id, course_id) {\r\n    let url_is_favo = '';\r\n    if (course_favo_id !== undefined) {\r\n      url_is_favo = `${env.DEV_URL}/api/student/is-favorite?course_id=${course_favo_id}&user_id=${user_id}`;\r\n    } else {\r\n      url_is_favo = `${env.DEV_URL}/api/student/is-favorite?course_id=${course_id}&user_id=${user_id}`;\r\n    }\r\n\r\n    axios\r\n      .get(url_is_favo, {})\r\n      .then((ret) => {\r\n        set_is_favorite(ret.data.is_favorite);\r\n      })\r\n      .catch((er) => {\r\n        console.log(er.response);\r\n      });\r\n  }\r\n\r\n  const handleFavoriteClick = (e) => {\r\n    const toggle_favorite_url = `${env.DEV_URL}/api/student/toggle-favorite`;\r\n    const data = {\r\n      user_id: +sessionStorage.getItem('user_login_id'),\r\n      course_id: course_id,\r\n      is_favorite: is_favorite\r\n    };\r\n\r\n    if (\r\n      setFavoComponentUpdate !== undefined &&\r\n      setFavoComponentUpdate !== null\r\n    ) {\r\n      setFavoComponentUpdate(!favoComponentUpdate);\r\n    }\r\n\r\n    axios.patch(toggle_favorite_url, data, {}).then((ret) => {\r\n      getIsFavorite(data.user_id, data.course_id);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // favo\r\n\r\n    if (course_favo_status !== undefined) {\r\n      set_is_favorite(course_favo_status);\r\n    } else {\r\n      getIsFavorite(+sessionStorage.getItem('user_login_id'), course_id);\r\n    }\r\n    // role\r\n    const user_role = sessionStorage.getItem('user_role');\r\n    setUser_role(+user_role);\r\n    // sale\r\n    debounce(() => {\r\n      const all_sales_url = `${env.DEV_URL}/api/course/all-sales`;\r\n      const config = {};\r\n      axios.get(all_sales_url, config).then((ret) => {\r\n        set_all_sales(ret.data.all_sales);\r\n\r\n        if (ret.data.all_sales !== undefined) {\r\n          for (let i = 0; i < ret.data.all_sales.length; ++i) {\r\n            if (course_id === ret.data.all_sales[i].course_id) {\r\n              set_is_sales(true);\r\n              set_sale(+ret.data.all_sales[i].sale_percent);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }, 500)();\r\n    // This stuff make app broken !!!\r\n\r\n    const email = sessionStorage.getItem('email');\r\n\r\n    if (isLogout === true) {\r\n      set_show_btn(false);\r\n    } else {\r\n      set_show_btn(true);\r\n    }\r\n\r\n    if (email === null) {\r\n      set_email(undefined);\r\n    } else if (email === undefined) {\r\n      set_email(undefined);\r\n    } else if (email === '') {\r\n      set_email(undefined);\r\n    }\r\n    set_email(email);\r\n\r\n    if (cart_global_state !== undefined) {\r\n      for (let i = 0; i < cart_global_state.length; ++i) {\r\n        if (cart_global_state[i].course_id === course_id) {\r\n          set_is_in_cart(true);\r\n\r\n          set_toggle_buy_click(!toggle_buy_click);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (most_stu_enroll !== undefined) {\r\n      let flag = false;\r\n\r\n      for (let i = 0; i < most_stu_enroll.length; ++i) {\r\n        if (+course_id === +most_stu_enroll[i].course_id) {\r\n          flag = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (flag === true) {\r\n        set_is_best_seller(true);\r\n        return;\r\n      } else {\r\n        set_is_best_seller(false);\r\n      }\r\n    }\r\n\r\n    if (newest_courses !== undefined) {\r\n      let flag = false;\r\n\r\n      for (let i = 0; i < newest_courses.length; ++i) {\r\n        if (+course_id === +newest_courses[i].course_id) {\r\n          flag = true;\r\n          set_is_newest(true);\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (flag === true) {\r\n        set_is_newest(true);\r\n        return;\r\n      } else {\r\n        set_is_newest(false);\r\n        return;\r\n      }\r\n    }\r\n\r\n    // [most_stu_enroll, most_view_courses, newest_courses, all_sales]\r\n  }, [\r\n    most_stu_enroll,\r\n    most_view_courses,\r\n    newest_courses,\r\n    // toggle_buy_click,\r\n    cart_global_state,\r\n    email,\r\n    isLogout,\r\n    show_btn,\r\n    // bestseller problem\r\n    // is_best_seller,\r\n    // is_newest,\r\n    isUpdate,\r\n    isUpdateFromPagi,\r\n    is_favorite,\r\n    favoComponentUpdate\r\n  ]);\r\n\r\n  const handleLinkClick = (e) => {\r\n    // setUpdateCourseDetail(!updateCourseDetail);\r\n  };\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Card className={classes.card}>\r\n        <Box onClick={handleLinkClick}>\r\n          <CardActionArea>\r\n            <Link className={classes.link} to={`/course/${course_id}`}>\r\n              <CardMedia\r\n                className={classes.cardMedia}\r\n                image={`${course_avatar_url}`}\r\n                title='Image title'\r\n              />\r\n            </Link>\r\n            {+user_role === 2 ? (\r\n              <Box>\r\n                {+is_favorite === 1 ? (\r\n                  <Link\r\n                    onClick={handleFavoriteClick}\r\n                    className={cn(classes.link, classes.favo)}\r\n                    // to={`/course/${course_id}`}\r\n                  >\r\n                    <Button variant='outlined' size='small' color='primary'>\r\n                      <FavoriteIcon />\r\n                    </Button>\r\n                  </Link>\r\n                ) : (\r\n                  <Link\r\n                    onClick={handleFavoriteClick}\r\n                    className={cn(classes.link, classes.favo)}\r\n                    // to={`/course/${course_id}`}\r\n                  >\r\n                    <Button variant='outlined' size='small' color='primary'>\r\n                      <FavoriteBorderIcon />\r\n                    </Button>\r\n                  </Link>\r\n                )}\r\n              </Box>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {is_best_seller === true ? (\r\n              <Box\r\n                display='flex'\r\n                px={8}\r\n                justifyContent='flex-start'\r\n                width='100%'\r\n              >\r\n                <Badge\r\n                  className={classes.badge_bestSeller}\r\n                  variant='standard'\r\n                  badgeContent='Best seller'\r\n                  {...defaultProps}\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left'\r\n                  }}\r\n                />\r\n              </Box>\r\n            ) : is_newest === true ? (\r\n              <Box\r\n                display='flex'\r\n                px={8}\r\n                justifyContent='flex-start'\r\n                width='100%'\r\n              >\r\n                <Badge\r\n                  className={classes.badge_newest}\r\n                  variant='standard'\r\n                  badgeContent='New'\r\n                  anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left'\r\n                  }}\r\n                />\r\n              </Box>\r\n            ) : (\r\n              <Box></Box>\r\n            )}\r\n\r\n            <CardContent className={classes.cardContent}>\r\n              <Typography\r\n                className={classes.typo}\r\n                gutterBottom\r\n                variant='h6'\r\n                component='p'\r\n              >\r\n                {course_name}\r\n              </Typography>\r\n              <Typography className={classes.typo}>{subject_name}</Typography>\r\n              <Typography className={classes.typo}> {user_name}</Typography>\r\n              <Typography className={classes.typo}>Rate: {avg_rate}</Typography>\r\n\r\n              {is_sales ? (\r\n                <React.Fragment>\r\n                  <Typography className={cn(classes.typo, classes.sale)}>\r\n                    {course_fee}$\r\n                  </Typography>\r\n                  <Typography className={classes.typo}>\r\n                    {' '}\r\n                    Sale: {course_fee -\r\n                      Math.floor((course_fee * sale) / 100)}${' '}\r\n                  </Typography>\r\n                </React.Fragment>\r\n              ) : (\r\n                <Typography className={classes.typo}>{course_fee}$</Typography>\r\n              )}\r\n            </CardContent>\r\n          </CardActionArea>\r\n        </Box>\r\n\r\n        {email !== undefined ? (\r\n          <CardActions className={classes.card_action}>\r\n            {user_role === 2 || user_role === 4 ? (\r\n              <Button\r\n                variant='contained'\r\n                size='small'\r\n                color='primary'\r\n                disabled={is_in_cart === true}\r\n                onClick={handleBuyClick}\r\n              >\r\n                Buy\r\n              </Button>\r\n            ) : (\r\n              <div>\r\n                {user_role === 3 &&\r\n                user_id === +sessionStorage.getItem('user_login_id') ? (\r\n                  <FormControlLabel\r\n                    className={classes.checkbox}\r\n                    control={\r\n                      <GreenCheckbox\r\n                        checked={checked}\r\n                        onChange={handleChangeCheck}\r\n                        name='checkedG'\r\n                      />\r\n                    }\r\n                    label='Is finished'\r\n                  />\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </div>\r\n            )}\r\n            <Link\r\n              onClick={handleLinkClick}\r\n              className={classes.link}\r\n              to={`/course/${course_id}`}\r\n            >\r\n              <Button variant='outlined' size='small' color='primary'>\r\n                Detail\r\n              </Button>\r\n            </Link>\r\n          </CardActions>\r\n        ) : (\r\n          <React.Fragment></React.Fragment>\r\n        )}\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart_global_state: state.cartReducer.cart\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatchAddToCart: (\r\n      course_id,\r\n      user_id,\r\n      course_price,\r\n      course_ava,\r\n      course_name,\r\n      course_title\r\n    ) => {\r\n      dispatch({\r\n        type: ADD_COURSE_TO_CART,\r\n        payload: {\r\n          course_id: course_id,\r\n          course_price: course_price,\r\n          course_ava: course_ava,\r\n          course_name: course_name,\r\n          course_title: course_title,\r\n          user_id: user_id\r\n        }\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CardCourse);\r\n","import { makeStyles } from '@material-ui/core';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport CategoryIcon from '@material-ui/icons/Category';\r\nimport React from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nconst style = makeStyles((theme) => ({\r\n  left_cat_wrapper: {},\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  },\r\n  cat_icon: {\r\n    '&.MuiListItemIcon-root': {\r\n      minWidth: 40\r\n    }\r\n  },\r\n  link: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    '&:visited': {\r\n      color: 'inherit',\r\n      textDecoration: 'none'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function Subcat({ open, setOpen, all_subcat }) {\r\n  const classes = style();\r\n  const { id } = useParams();\r\n\r\n  return (\r\n    <Collapse in={open} timeout='auto' unmountOnExit>\r\n      <List component='div' disablePadding>\r\n        {all_subcat.map((ele, i) => {\r\n          return (\r\n            <ListItem key={i} button className={classes.nested}>\r\n              <ListItemIcon className={classes.cat_icon}>\r\n                <CategoryIcon />\r\n              </ListItemIcon>\r\n              <Link\r\n                // onClick={() => {\r\n                //   set_cat_close(true);\r\n                // }}\r\n                className={classes.link}\r\n                to={`/courses-list/${ele.subject_name}`}\r\n              >\r\n                <ListItemText primary={`${ele.subject_name}`} />\r\n              </Link>\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n    </Collapse>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport PhoneIphoneIcon from '@material-ui/icons/PhoneIphone';\r\nimport React from 'react';\r\nimport Subcat from './Subcat';\r\n\r\nconst style = makeStyles((theme) => ({\r\n  left_cat_wrapper: {},\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  },\r\n  cat_icon: {\r\n    '&.MuiListItemIcon-root': {\r\n      minWidth: 40\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function Cat({ cat_name, cat_id, all_subcat }) {\r\n  const classes = style();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClick = (e) => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem\r\n        className={classes.left_cat_wrapper}\r\n        button\r\n        onClick={handleClick}\r\n      >\r\n        <ListItemIcon className={classes.cat_icon}>\r\n          {cat_id === 1 ? <LanguageIcon /> : <PhoneIphoneIcon />}\r\n        </ListItemIcon>\r\n        <ListItemText primary={cat_name} />\r\n        {open ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n      {cat_id === 1 ? (\r\n        <Subcat\r\n          all_subcat={all_subcat.filter((ele) => ele.cat_id === 1)}\r\n          open={open}\r\n          setOpen={setOpen}\r\n        />\r\n      ) : (\r\n        <Subcat\r\n          all_subcat={all_subcat.filter((ele) => ele.cat_id === 2)}\r\n          open={open}\r\n          setOpen={setOpen}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { Box, makeStyles } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport * as env from '../../config/env.config';\r\nimport Cat from './Cat';\r\n\r\nconst style = makeStyles((theme) => ({\r\n  left_cat_wrapper: {},\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  }\r\n}));\r\n\r\nconst categories = [\r\n  {\r\n    cat_id: 1,\r\n    cat_name: 'Web development'\r\n  },\r\n  {\r\n    cat_id: 2,\r\n    cat_name: 'Mobile development'\r\n  }\r\n];\r\n\r\nexport default function LeftCat() {\r\n  const classes = style();\r\n  const [all_subcat, set_all_subcat] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const all_sub_cat_url = `${env.DEV_URL}/api/sub-category/`;\r\n    const config = {};\r\n    axios.get(all_sub_cat_url, config).then((ret) => {\r\n      set_all_subcat(ret.data.all_sub_cats);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Box>\r\n      {categories.map((ele, i) => {\r\n        return <Cat all_subcat={all_subcat} key={i} {...ele} />;\r\n      })}\r\n    </Box>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport React from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      marginTop: theme.spacing(2)\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function BasicPagination({\r\n  total_pagi_stuff,\r\n  handlePagiChange,\r\n  curr_page,\r\n  set_curr_page\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Pagination\r\n        page={+curr_page}\r\n        count={+total_pagi_stuff}\r\n        onChange={handlePagiChange}\r\n        color='primary'\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-use-before-define */\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nexport default function Searchbar({\r\n  all_courses,\r\n  search_value,\r\n  set_search_value\r\n}) {\r\n  const [all_courses_filter, set_all_courses_filter] = useState([]);\r\n  useEffect(() => {\r\n    console.log(all_courses);\r\n    set_all_courses_filter(all_courses);\r\n  }, []);\r\n  const handleSearchChange = (e) => {\r\n    set_search_value(e.target.value);\r\n  };\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Autocomplete\r\n        id='free-solo-demo'\r\n        freeSolo\r\n        options={all_courses_filter.map((option) => option.course_name)}\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            value={search_value}\r\n            onChange={handleSearchChange}\r\n            label='Course name'\r\n            margin='normal'\r\n            variant='outlined'\r\n          />\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top\r\nconst top100Films = [\r\n  { title: 'The Shawshank Redemption', year: 1994 },\r\n  { title: 'The Godfather', year: 1972 },\r\n  { title: 'The Godfather: Part II', year: 1974 },\r\n  { title: 'The Dark Knight', year: 2008 },\r\n  { title: '12 Angry Men', year: 1957 },\r\n  { title: \"Schindler's List\", year: 1993 },\r\n  { title: 'Pulp Fiction', year: 1994 },\r\n  { title: 'The Lord of the Rings: The Return of the King', year: 2003 },\r\n  { title: 'The Good, the Bad and the Ugly', year: 1966 },\r\n  { title: 'Fight Club', year: 1999 },\r\n  { title: 'The Lord of the Rings: The Fellowship of the Ring', year: 2001 },\r\n  { title: 'Star Wars: Episode V - The Empire Strikes Back', year: 1980 },\r\n  { title: 'Forrest Gump', year: 1994 },\r\n  { title: 'Inception', year: 2010 },\r\n  { title: 'The Lord of the Rings: The Two Towers', year: 2002 },\r\n  { title: \"One Flew Over the Cuckoo's Nest\", year: 1975 },\r\n  { title: 'Goodfellas', year: 1990 },\r\n  { title: 'The Matrix', year: 1999 },\r\n  { title: 'Seven Samurai', year: 1954 },\r\n  { title: 'Star Wars: Episode IV - A New Hope', year: 1977 },\r\n  { title: 'City of God', year: 2002 },\r\n  { title: 'Se7en', year: 1995 },\r\n  { title: 'The Silence of the Lambs', year: 1991 },\r\n  { title: \"It's a Wonderful Life\", year: 1946 },\r\n  { title: 'Life Is Beautiful', year: 1997 },\r\n  { title: 'The Usual Suspects', year: 1995 },\r\n  { title: 'Léon: The Professional', year: 1994 },\r\n  { title: 'Spirited Away', year: 2001 },\r\n  { title: 'Saving Private Ryan', year: 1998 },\r\n  { title: 'Once Upon a Time in the West', year: 1968 },\r\n  { title: 'American History X', year: 1998 },\r\n  { title: 'Interstellar', year: 2014 },\r\n  { title: 'Casablanca', year: 1942 },\r\n  { title: 'City Lights', year: 1931 },\r\n  { title: 'Psycho', year: 1960 },\r\n  { title: 'The Green Mile', year: 1999 },\r\n  { title: 'The Intouchables', year: 2011 },\r\n  { title: 'Modern Times', year: 1936 },\r\n  { title: 'Raiders of the Lost Ark', year: 1981 },\r\n  { title: 'Rear Window', year: 1954 },\r\n  { title: 'The Pianist', year: 2002 },\r\n  { title: 'The Departed', year: 2006 },\r\n  { title: 'Terminator 2: Judgment Day', year: 1991 },\r\n  { title: 'Back to the Future', year: 1985 },\r\n  { title: 'Whiplash', year: 2014 },\r\n  { title: 'Gladiator', year: 2000 },\r\n  { title: 'Memento', year: 2000 },\r\n  { title: 'The Prestige', year: 2006 },\r\n  { title: 'The Lion King', year: 1994 },\r\n  { title: 'Apocalypse Now', year: 1979 },\r\n  { title: 'Alien', year: 1979 },\r\n  { title: 'Sunset Boulevard', year: 1950 },\r\n  {\r\n    title:\r\n      'Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb',\r\n    year: 1964\r\n  },\r\n  { title: 'The Great Dictator', year: 1940 },\r\n  { title: 'Cinema Paradiso', year: 1988 },\r\n  { title: 'The Lives of Others', year: 2006 },\r\n  { title: 'Grave of the Fireflies', year: 1988 },\r\n  { title: 'Paths of Glory', year: 1957 },\r\n  { title: 'Django Unchained', year: 2012 },\r\n  { title: 'The Shining', year: 1980 },\r\n  { title: 'WALL·E', year: 2008 },\r\n  { title: 'American Beauty', year: 1999 },\r\n  { title: 'The Dark Knight Rises', year: 2012 },\r\n  { title: 'Princess Mononoke', year: 1997 },\r\n  { title: 'Aliens', year: 1986 },\r\n  { title: 'Oldboy', year: 2003 },\r\n  { title: 'Once Upon a Time in America', year: 1984 },\r\n  { title: 'Witness for the Prosecution', year: 1957 },\r\n  { title: 'Das Boot', year: 1981 },\r\n  { title: 'Citizen Kane', year: 1941 },\r\n  { title: 'North by Northwest', year: 1959 },\r\n  { title: 'Vertigo', year: 1958 },\r\n  { title: 'Star Wars: Episode VI - Return of the Jedi', year: 1983 },\r\n  { title: 'Reservoir Dogs', year: 1992 },\r\n  { title: 'Braveheart', year: 1995 },\r\n  { title: 'M', year: 1931 },\r\n  { title: 'Requiem for a Dream', year: 2000 },\r\n  { title: 'Amélie', year: 2001 },\r\n  { title: 'A Clockwork Orange', year: 1971 },\r\n  { title: 'Like Stars on Earth', year: 2007 },\r\n  { title: 'Taxi Driver', year: 1976 },\r\n  { title: 'Lawrence of Arabia', year: 1962 },\r\n  { title: 'Double Indemnity', year: 1944 },\r\n  { title: 'Eternal Sunshine of the Spotless Mind', year: 2004 },\r\n  { title: 'Amadeus', year: 1984 },\r\n  { title: 'To Kill a Mockingbird', year: 1962 },\r\n  { title: 'Toy Story 3', year: 2010 },\r\n  { title: 'Logan', year: 2017 },\r\n  { title: 'Full Metal Jacket', year: 1987 },\r\n  { title: 'Dangal', year: 2016 },\r\n  { title: 'The Sting', year: 1973 },\r\n  { title: '2001: A Space Odyssey', year: 1968 },\r\n  { title: \"Singin' in the Rain\", year: 1952 },\r\n  { title: 'Toy Story', year: 1995 },\r\n  { title: 'Bicycle Thieves', year: 1948 },\r\n  { title: 'The Kid', year: 1921 },\r\n  { title: 'Inglourious Basterds', year: 2009 },\r\n  { title: 'Snatch', year: 2000 },\r\n  { title: '3 Idiots', year: 2009 },\r\n  { title: 'Monty Python and the Holy Grail', year: 1975 }\r\n];\r\n","import { makeStyles } from '@material-ui/core';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport StarRateIcon from '@material-ui/icons/StarRate';\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst style = makeStyles((theme) => ({\r\n  left_cat_wrapper: {},\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  },\r\n  cat_icon: {\r\n    '&.MuiListItemIcon-root': {\r\n      minWidth: 40\r\n    }\r\n  },\r\n  link: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    '&:visited': {\r\n      color: 'inherit',\r\n      textDecoration: 'none'\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function Sort(props) {\r\n  const { sort_name, sort_id, sub_sort, sort_value, set_sort_value } = props;\r\n  const [page_link, set_page_link] = useState('');\r\n\r\n  const classes = style();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [checked, setChecked] = React.useState(true);\r\n\r\n  const handleCheckBoxChange = (event) => {\r\n    set_sort_value({\r\n      sort_name: event.target.value,\r\n      is_checked: event.target.checked\r\n    });\r\n    if (event.target.value === 'asc' && event.target.checked === true) {\r\n      set_page_link('/courses-list/byRate/asc');\r\n    }\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    setOpen(!open);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem\r\n        className={classes.left_cat_wrapper}\r\n        button\r\n        onClick={handleClick}\r\n      >\r\n        <ListItemIcon>\r\n          {sort_name === 'Rate' ? <StarRateIcon /> : <MonetizationOnIcon />}\r\n        </ListItemIcon>\r\n        <ListItemText primary={sort_name} />\r\n        {open ? <ExpandMore /> : <ExpandLess />}\r\n      </ListItem>\r\n      <Collapse in={open} timeout='auto' unmountOnExit>\r\n        <List component='div' disablePadding>\r\n          {sub_sort.map((ele, i) => {\r\n            return (\r\n              <ListItem key={i} className={classes.nested}>\r\n                <ListItemIcon className={classes.cat_icon}>\r\n                  {/* <Checkbox\r\n                    onChange={handleCheckBoxChange}\r\n                    value={ele.sub_name}\r\n                    className={classes.link}\r\n                    defaultChecked\r\n                    color=\"primary\"\r\n                    inputProps={{ \"aria-label\": ele.sub_name }}\r\n                  /> */}\r\n                  {ele.sub_name === 'asc' ? (\r\n                    <ArrowUpwardIcon />\r\n                  ) : (\r\n                    <ArrowDownwardIcon />\r\n                  )}\r\n                </ListItemIcon>\r\n                <Link\r\n                  className={classes.link}\r\n                  to={`/courses-list/by${sort_name}/${ele.sub_name}`}\r\n                >\r\n                  <ListItemText\r\n                    primary={`${\r\n                      ele.sub_name === 'asc' ? 'Ascending' : 'Descending'\r\n                    }`}\r\n                  />\r\n                </Link>\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      </Collapse>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport cn from 'classnames';\r\nimport { debounce } from 'lodash';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport * as env from '../../config/env.config';\r\nimport CardCourse from '../CardCourse/CardCourse';\r\nimport Footer from '../Footer/Footer';\r\nimport LeftCat from '../LeftCat/LeftCat';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Pagination from './Pagination';\r\nimport Searchbar from './Searchbar';\r\nimport Sort from './Sort';\r\n\r\nconst style = makeStyles((theme) => ({\r\n  main_course_list_wrapper: {\r\n    flexGrow: 1,\r\n    marginTop: 100,\r\n    marginBottom: 100\r\n  },\r\n\r\n  paper: {\r\n    padding: 32,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary\r\n  },\r\n  course_list: {\r\n    marginTop: 14,\r\n    marginBottom: 14\r\n  },\r\n  pagination: {\r\n    '& ul.MuiPagination-ul': {\r\n      justifyContent: 'flex-end'\r\n    }\r\n  },\r\n  left_cat: {\r\n    position: 'sticky',\r\n    top: 32,\r\n    padding: 16\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  },\r\n  cat_icon: {\r\n    '&.MuiListItemIcon-root': {\r\n      minWidth: 40\r\n    }\r\n  },\r\n  link: {\r\n    color: 'inherit',\r\n    textDecoration: 'none',\r\n    '&:visited': {\r\n      color: 'inherit',\r\n      textDecoration: 'none'\r\n    }\r\n  },\r\n  filter: {\r\n    textAlign: 'left'\r\n  }\r\n}));\r\n\r\nconst courses = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\nconst sort_info = [\r\n  {\r\n    sort_name: 'Rate',\r\n    sub_sort: [\r\n      {\r\n        sub_id: 1,\r\n        sub_name: 'asc'\r\n      },\r\n      {\r\n        sub_id: 2,\r\n        sub_name: 'desc'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    sort_name: 'Price',\r\n    sub_sort: [\r\n      {\r\n        sub_id: 1,\r\n        sub_name: 'asc'\r\n      },\r\n      {\r\n        sub_id: 2,\r\n        sub_name: 'desc'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport default function CoursesList() {\r\n  const classes = style();\r\n  const [all_courses_finished, set_all_courses_finished] = useState([]);\r\n  const [total_pagi_stuff, set_total_pagi_stuff] = useState([]);\r\n  const [curr_page, set_curr_page] = useState([]);\r\n  const [search_value, set_search_value] = useState('');\r\n  const { id, rate_value, price_value } = useParams();\r\n  const [sort_value, set_sort_value] = useState({\r\n    sort_name: '',\r\n    is_checked: false\r\n  });\r\n  const [most_stu_enroll, set_most_stu_enroll] = useState([]);\r\n  const [most_view_courses, set_most_view_courses] = useState([]);\r\n  const [newest_courses, set_newest_courses] = useState([]);\r\n  const [isLogout, setisLogout] = useState(true);\r\n  const [isUpdateFromPagi, setisUpdateFromPagi] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  function getMostStudentEnrollCourses() {\r\n    debounce(() => {\r\n      const most_stu_rul = `${env.DEV_URL}/api/course/outstanding-courses`;\r\n      const config = {};\r\n      axios.get(most_stu_rul, config).then((ret) => {\r\n        set_most_stu_enroll(ret.data.outstanding_courses);\r\n      });\r\n    }, 500)();\r\n  }\r\n  function getMostViewCourses() {\r\n    debounce(() => {\r\n      const most_views_url = `${env.DEV_URL}/api/course/ten-most-viewed-courses`;\r\n      const config = {};\r\n      axios.get(most_views_url, config).then((ret) => {\r\n        set_most_view_courses(ret.data.ten_most_viewed_courses);\r\n      });\r\n    }, 500)();\r\n  }\r\n  function getNewestCourses() {\r\n    debounce(() => {\r\n      const newest_url = `${env.DEV_URL}/api/course/ten-newest-courses`;\r\n      const config = {};\r\n      axios.get(newest_url, config).then((ret) => {\r\n        set_newest_courses(ret.data.ten_newest_courses);\r\n      });\r\n    }, 500)();\r\n  }\r\n\r\n  useEffect(() => {\r\n    // navbar logout problem\r\n    const isLg = sessionStorage.getItem('isLogout', false);\r\n\r\n    if (isLg !== null) {\r\n      setisLogout(isLg);\r\n    } else {\r\n      setisLogout(isLg);\r\n    }\r\n\r\n    getMostStudentEnrollCourses();\r\n    getMostViewCourses();\r\n    getNewestCourses();\r\n    if (search_value) {\r\n      debounce(() => {\r\n        const all_courses_by_subcat_url = `${env.DEV_URL}/api/course/by-full-text-search/${search_value}`;\r\n        const config = {};\r\n        axios.get(all_courses_by_subcat_url, config).then((ret) => {\r\n          set_all_courses_finished(ret.data.all_courses);\r\n          set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n          set_curr_page(ret.data.curr_pagi);\r\n        });\r\n      }, 500)();\r\n    } else {\r\n      if (id !== undefined) {\r\n        set_search_value('');\r\n        debounce(() => {\r\n          const all_courses_by_subcat_url = `${env.DEV_URL}/api/course/byCat/${id}`;\r\n          const config = {};\r\n          axios.get(all_courses_by_subcat_url, config).then((ret) => {\r\n            set_all_courses_finished(ret.data.course_by_sub_cat);\r\n            set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n            set_curr_page(ret.data.curr_pagi);\r\n          });\r\n        }, 200)();\r\n      } else {\r\n        if (rate_value !== undefined) {\r\n          debounce(() => {\r\n            const all_course_finished_url = `${env.DEV_URL}/api/course/byRate/${rate_value}`;\r\n            const config = {};\r\n            axios.get(all_course_finished_url, config).then((ret) => {\r\n              set_all_courses_finished(ret.data.course_by_rate);\r\n              set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n              set_curr_page(ret.data.curr_pagi);\r\n            });\r\n          }, 200)();\r\n        } else {\r\n          if (price_value !== undefined) {\r\n            const all_course_finished_url = `${env.DEV_URL}/api/course/byPrice/${price_value}`;\r\n            const config = {};\r\n            axios.get(all_course_finished_url, config).then((ret) => {\r\n              set_all_courses_finished(ret.data.course_by_price);\r\n              set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n              set_curr_page(ret.data.curr_pagi);\r\n            });\r\n          } else {\r\n            debounce(() => {\r\n              const all_course_finished_url = `${env.DEV_URL}/api/course/all-with-finished`;\r\n              const config = {};\r\n              axios.get(all_course_finished_url, config).then((ret) => {\r\n                set_all_courses_finished(ret.data.all_courses_finished);\r\n                set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n                set_curr_page(ret.data.curr_pagi);\r\n              });\r\n            }, 200)();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [id, search_value, sort_value, rate_value, price_value]);\r\n\r\n  const handlePagiChange = (event, value) => {\r\n    set_curr_page(value);\r\n    setisUpdateFromPagi(!isUpdateFromPagi);\r\n\r\n    getMostStudentEnrollCourses();\r\n    getMostViewCourses();\r\n    getNewestCourses();\r\n\r\n    const config = {\r\n      params: {\r\n        pagi: value\r\n      }\r\n    };\r\n\r\n    if (search_value) {\r\n      debounce(() => {\r\n        const all_courses_by_subcat_url = `${env.DEV_URL}/api/course/by-full-text-search/${search_value}`;\r\n\r\n        axios.get(all_courses_by_subcat_url, config).then((ret) => {\r\n          set_all_courses_finished(ret.data.all_courses);\r\n          set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n          set_curr_page(ret.data.curr_pagi);\r\n        });\r\n      }, 500)();\r\n    } else {\r\n      if (id !== undefined) {\r\n        set_search_value('');\r\n        debounce(() => {\r\n          const all_courses_by_subcat_url = `${env.DEV_URL}/api/course/byCat/${id}`;\r\n\r\n          axios.get(all_courses_by_subcat_url, config).then((ret) => {\r\n            set_all_courses_finished(ret.data.course_by_sub_cat);\r\n            set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n            set_curr_page(ret.data.curr_pagi);\r\n          });\r\n        }, 200)();\r\n      } else {\r\n        if (rate_value !== undefined) {\r\n          debounce(() => {\r\n            const all_course_finished_url = `${env.DEV_URL}/api/course/byRate/${rate_value}`;\r\n\r\n            axios.get(all_course_finished_url, config).then((ret) => {\r\n              set_all_courses_finished(ret.data.course_by_rate);\r\n              set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n              set_curr_page(ret.data.curr_pagi);\r\n            });\r\n          }, 200)();\r\n        } else {\r\n          if (price_value !== undefined) {\r\n            const all_course_finished_url = `${env.DEV_URL}/api/course/byPrice/${price_value}`;\r\n\r\n            axios.get(all_course_finished_url, config).then((ret) => {\r\n              set_all_courses_finished(ret.data.course_by_price);\r\n              set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n              set_curr_page(ret.data.curr_pagi);\r\n            });\r\n          } else {\r\n            debounce(() => {\r\n              const all_course_finished_url = `${env.DEV_URL}/api/course/all-with-finished`;\r\n\r\n              axios.get(all_course_finished_url, config).then((ret) => {\r\n                set_all_courses_finished(ret.data.all_courses_finished);\r\n                set_total_pagi_stuff(ret.data.total_num_pagi_stuff);\r\n                set_curr_page(ret.data.curr_pagi);\r\n              });\r\n            }, 200)();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar setisLogout={setisLogout} />\r\n\r\n      <main>\r\n        <Container className={classes.main_course_list_wrapper} maxWidth='lg'>\r\n          <Grid container spacing={4}>\r\n            <Grid item xs={12} sm={12} md={3} lg={3}>\r\n              <Grid container spacing={4}>\r\n                <Grid item xs={12}>\r\n                  <Paper className={cn(classes.paper, classes.left_cat)}>\r\n                    <LeftCat />\r\n                  </Paper>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Paper className={cn(classes.paper, classes.left_cat)}>\r\n                    <Typography\r\n                      className={classes.filter}\r\n                      variant='h6'\r\n                      component='p'\r\n                    >\r\n                      <Box px={2}>Filter</Box>\r\n                    </Typography>\r\n                    {sort_info.map((ele, i) => {\r\n                      return (\r\n                        <Sort\r\n                          set_sort_value={set_sort_value}\r\n                          sort_value={sort_value}\r\n                          {...ele}\r\n                          key={i}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={12} md={9} lg={9}>\r\n              <Paper className={classes.paper}>\r\n                <Searchbar\r\n                  set_search_value={set_search_value}\r\n                  search_value={search_value}\r\n                  all_courses={all_courses_finished}\r\n                />\r\n\r\n                <Grid container spacing={4} className={classes.course_list}>\r\n                  {all_courses_finished !== undefined &&\r\n                  all_courses_finished.length !== 0 ? (\r\n                    all_courses_finished.map((ele, i) => {\r\n                      return (\r\n                        <Grid key={i} item xs={12} sm={6} md={4} lg={4}>\r\n                          <CardCourse\r\n                            {...ele}\r\n                            isUpdateFromPagi={isUpdateFromPagi}\r\n                            most_stu_enroll={most_stu_enroll}\r\n                            most_view_courses={most_view_courses}\r\n                            newest_courses={newest_courses}\r\n                          />\r\n                        </Grid>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <Box px={2}>Oops... There is no course!</Box>\r\n                  )}\r\n                </Grid>\r\n                <Grid container spacing={4}>\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.pagination}\r\n                  >\r\n                    {total_pagi_stuff !== 0 ? (\r\n                      <Pagination\r\n                        curr_page={curr_page}\r\n                        handlePagiChange={handlePagiChange}\r\n                        set_curr_page={set_curr_page}\r\n                        total_pagi_stuff={total_pagi_stuff}\r\n                      />\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                  </Grid>\r\n                </Grid>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </main>\r\n\r\n      <Footer />\r\n    </React.Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}